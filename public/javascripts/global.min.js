let global={confettiConfig:void 0,createProjectCard:void 0,enterKeyPress:void 0,initialise:(void 0,()=>{global.navInit(),global.unreadStatus()}),navInit:void 0,unreadStatus:void 0,darkenOverlay:document.querySelector(".darken-overlay")};global.navInit=()=>{const e=window.location.pathname.split("/")[1];document.querySelectorAll("."+e+"-tab").forEach(e=>{e.classList.add("active-tab")}),document.querySelector(".more-"+e)&&document.querySelector(".more-"+e).classList.add("active-more-tab");const t=document.querySelector(".nav-more-menu"),a=document.querySelector(".more-tab");a.addEventListener("click",(function(e){e.preventDefault(),global.darkenOverlay.classList.toggle("hide"),t.classList.toggle("hide"),this.querySelector("input").checked=!this.querySelector("input").checked})),global.darkenOverlay.addEventListener("click",(function(){t.classList.contains("hide")||(t.classList.add("hide"),document.querySelector(".darken-overlay").classList.add("hide"),a.querySelector("input").checked=!1)})),document.querySelector(".nav-more-close").addEventListener("click",()=>{t.classList.add("hide"),document.querySelector(".darken-overlay").classList.add("hide"),a.querySelector("input").checked=!1})},global.createProjectCard=(e,t,a)=>{var n=document.createElement("div");n.className="project-card "+a.status+" "+t+" "+a.colour;var r=document.createElement("div");r.className="tags-container";var c=document.createElement("div");c.className="project-tag status-tag";var o=document.createElement("div");o.className="status-tag-icon",c.appendChild(o);var d=document.createElement("span");d.innerHTML=100*a.progress+"%",c.appendChild(d),r.appendChild(c),a.tags.forEach(e=>{const t=document.createElement("div");t.className="project-tag",t.innerHTML=e,r.appendChild(t)}),r.addEventListener("wheel",(function(e){this.scrollLeft+=.25*e.deltaY})),n.appendChild(r);var i=document.createElement("div");i.className="status-container";var l=document.createElement("i");l.className="material-icons-outlined recom-icon",l.innerHTML="lightbulb",i.appendChild(l);var s=document.createElement("div");s.className="trophy-container";var u=document.createElement("img");u.className="trophy-back",u.src="/public/images/trophy.svg",s.appendChild(u);var m=document.createElement("img");m.className="trophy-front",m.src="/public/images/trophy.svg",m.style.height=100*a.progress+"%",s.appendChild(m),i.appendChild(s),n.appendChild(i);var p=document.createElement("div");p.className="project-info";var v=document.createElement("div");v.className="project-rating";var h=document.createElement("span");h.innerHTML=a.rating.toString(),v.appendChild(h);var g=document.createElement("i");g.className="material-icons-round",g.innerHTML="star",v.appendChild(g),p.appendChild(v);var f=document.createElement("div");f.className="project-name",f.innerHTML=a.name,p.appendChild(f);var E=document.createElement("div");E.className="project-about",E.innerHTML=a.about,p.appendChild(E);var y=document.createElement("div");y.className="current-task";var b=document.createElement("span");b.innerHTML=a.current,y.appendChild(b);var L=document.createElement("i");L.className="material-icons-round",L.innerHTML="arrow_forward",y.appendChild(L),p.appendChild(y),n.appendChild(p);var S=document.createElement("div");S.className="progress-number",S.innerHTML=100*a.progress+"%",n.appendChild(S);var C=document.createElement("div");C.className="progress-bar",C.style.width=100*a.progress+"%",n.appendChild(C),e.appendChild(n),"completed"===a.status&&n.addEventListener("mouseenter",()=>confetti(n,global.confettiConfig))},global.enterKeyPress=(e,t)=>{e.addEventListener("keypress",e=>{"Enter"===e.key&&t()})},global.confettiConfig={angle:0,spread:90,startVelocity:20,elementCount:20,width:"10px",height:"10px",perspective:"200px",colors:["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"],duration:2e3,stagger:3,dragFriction:.12,random:Math.random},global.unreadStatus=async()=>{let e;try{e=(await axios.post("/notifications-unread")).data}catch(t){e={status:"error",content:t}}return"failed"===e.status||"error"===e.status?console.log(e.content):void(e.content?document.querySelector(".inbox-tab").classList.add("unread"):document.querySelector(".inbox-tab").classList.remove("unread"))};const form=document.querySelector(".input-form"),inputs=form.querySelectorAll(".code-input"),KEYBOARDS={backspace:8,arrowLeft:37,arrowRight:39};function handleInput(e){const t=e.target,a=t.nextElementSibling;a&&t.value&&(a.focus(),a.value&&a.select())}function handlePaste(e){e.preventDefault();const t=e.clipboardData.getData("text"),a=t.length;console.log(a),inputs.forEach((e,a)=>{e.value=t[a]||""}),a>inputs.length?inputs[inputs.length-1].focus():inputs[a-1].focus()}function handleBackspace(e){const t=e.target;if(null!==e.target.previousElementSibling){if(t.value)return void(t.value="");t.previousElementSibling.focus()}}function handleArrowLeft(e){const t=e.target.previousElementSibling;t&&t.focus()}function handleArrowRight(e){const t=e.target.nextElementSibling;t&&t.focus()}form.addEventListener("input",handleInput),inputs[0].addEventListener("paste",handlePaste),inputs.forEach(e=>{e.addEventListener("focus",e=>{setTimeout(()=>{e.target.select()},0)}),e.addEventListener("keydown",e=>{switch(e.keyCode){case KEYBOARDS.backspace:handleBackspace(e);break;case KEYBOARDS.arrowLeft:handleArrowLeft(e);break;case KEYBOARDS.arrowRight:handleArrowRight(e);break;default:}})}),document.onkeydown=function(e){e.ctrlKey&&"z"===e.key&&e.preventDefault()};
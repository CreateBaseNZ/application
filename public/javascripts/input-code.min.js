let inputGeneral={checkChange:void 0},verification={initialise:void 0,listeners:void 0,collect:void 0,resend:void 0,confirm:void 0};inputGeneral.checkChange=(e,t,n)=>{n.classList.contains("hide")&&e!==t?n.classList.remove("hide"):e===t&&n.classList.add("hide")},verification.initialise=()=>{verification.listeners()},verification.listeners=()=>{document.querySelector("#resend-code").addEventListener("click",verification.resend),document.querySelector("#verify-btn").addEventListener("click",verification.confirm)},verification.resend=async()=>{let e;document.querySelector(".error-p").innerHTML="",document.querySelector("#resend-code").setAttribute("disabled","");try{e=(await axios.post("/verification/resend-code")).data}catch(t){e={status:"error",content:t}}return"failed"===e.status?(document.querySelector("#resend-code").removeAttribute("disabled"),void(document.querySelector(".error-p").innerHTML=e.content)):"error"===e.status?(document.querySelector("#resend-code").removeAttribute("disabled"),void console.log(e.content)):(document.querySelector("#resend-code").removeAttribute("disabled"),void console.log("The code has been sent successfully"))},verification.collect=()=>String(document.querySelector("#first").value)+String(document.querySelector("#second").value)+String(document.querySelector("#third").value)+String(document.querySelector("#fourth").value)+String(document.querySelector("#fifth").value)+String(document.querySelector("#sixth").value),verification.confirm=async()=>{document.querySelector(".error-p").innerHTML="",document.querySelector("#verify-btn").setAttribute("disabled","");const e=verification.collect();let t;try{t=(await axios.post("/verification/verify-account",{code:e})).data}catch(e){t={status:"error",content:e}}return"failed"===t.status?(document.querySelector("#verify-btn").removeAttribute("disabled"),void(document.querySelector(".error-p").innerHTML=t.content)):"error"===t.status?(document.querySelector("#verify-btn").removeAttribute("disabled"),void console.log(t.content)):void window.location.assign("/dashboard")};const form=document.querySelector(".input-form"),inputs=form.querySelectorAll(".code-input"),KEYBOARDS={backspace:8,arrowLeft:37,arrowRight:39};function handleInput(e){const t=e.target,n=t.nextElementSibling;n&&t.value&&(n.focus(),n.value&&n.select())}function handlePaste(e){e.preventDefault();const t=e.clipboardData.getData("text"),n=t.length;console.log(n),inputs.forEach((e,n)=>{e.value=t[n]||""}),n>inputs.length?inputs[inputs.length-1].focus():inputs[n-1].focus()}function handleBackspace(e){const t=e.target;if(null!==e.target.previousElementSibling){if(t.value)return void(t.value="");t.previousElementSibling.focus()}}function handleArrowLeft(e){const t=e.target.previousElementSibling;t&&t.focus()}function handleArrowRight(e){const t=e.target.nextElementSibling;t&&t.focus()}form.addEventListener("input",handleInput),inputs[0].addEventListener("paste",handlePaste),inputs.forEach(e=>{e.addEventListener("focus",e=>{setTimeout(()=>{e.target.select()},0)}),e.addEventListener("keydown",e=>{switch(e.keyCode){case KEYBOARDS.backspace:handleBackspace(e);break;case KEYBOARDS.arrowLeft:handleArrowLeft(e);break;case KEYBOARDS.arrowRight:handleArrowRight(e);break;default:}})}),document.onkeydown=function(e){e.ctrlKey&&"z"===e.key&&e.preventDefault()};